(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,r,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"warnOnce",{enumerable:!0,get:function(){return t}});let t=e=>{}},42110,e=>{"use strict";var r=e.i(43476),s=e.i(71645),t=e.i(19455),a=e.i(15288),i=e.i(932),l=e.i(91918),o=e.i(25913),n=e.i(75157);let d=(0,o.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(e){let s,t,a,o,c,m,u=(0,i.c)(12);u[0]!==e?({className:s,variant:o,asChild:a,...t}=e,u[0]=e,u[1]=s,u[2]=t,u[3]=a,u[4]=o):(s=u[1],t=u[2],a=u[3],o=u[4]);let x=void 0!==a&&a?l.Slot:"span";return u[5]!==s||u[6]!==o?(c=(0,n.cn)(d({variant:o}),s),u[5]=s,u[6]=o,u[7]=c):c=u[7],u[8]!==x||u[9]!==t||u[10]!==c?(m=(0,r.jsx)(x,{"data-slot":"badge",className:c,...t}),u[8]=x,u[9]=t,u[10]=c,u[11]=m):m=u[11],m}let m=(0,e.i(75254).default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);var u=e.i(41947),u=u,x=e.i(14764),h=e.i(31245),f=e.i(84614),y=e.i(31278),O=e.i(60957);function g(){let[e,i]=(0,s.useState)(!1),[l,o]=(0,s.useState)([{id:"welcome",text:"Hello! Welcome to Hello Solar! How can I help you with your solar energy needs today?",isFromUser:!1,timestamp:Date.now()}]),[n,d]=(0,s.useState)(""),[g,p]=(0,s.useState)(!1),v=(0,s.useRef)(null);(0,s.useEffect)(()=>{e&&v.current&&v.current.scrollIntoView({behavior:"smooth"})},[l,g,e]);let b=async()=>{if(0===n.trim().length)return;let e=n.trim(),r={id:Date.now().toString(),text:e,isFromUser:!0,timestamp:Date.now()};o(e=>[...e,r]),d(""),p(!0);try{let r=await fetch("/api/ask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:e})});if(!r.ok)throw Error(`Request failed with status ${r.status}`);let s=await r.json(),t={id:(Date.now()+1).toString(),text:s.answer??"Sorry, I couldn't find an answer.",isFromUser:!1,timestamp:Date.now()};o(e=>[...e,t])}catch(e){console.error("Error sending message:",e),o(e=>[...e,{id:(Date.now()+2).toString(),text:"Something went wrong. Please try again.",isFromUser:!1,timestamp:Date.now()}])}finally{p(!1)}};return(0,r.jsxs)("div",{className:"fixed bottom-6 right-6 z-50",children:[e&&(0,r.jsxs)(a.Card,{className:"mb-4 w-80 h-96 shadow-2xl border-0 absolute bottom-16 right-0",children:[(0,r.jsx)(a.CardHeader,{className:"pb-3",style:{backgroundColor:O.COLORS.primary,color:O.COLORS.textOnPrimary},children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(h.Bot,{className:"w-5 h-5"}),(0,r.jsx)(a.CardTitle,{className:"text-sm font-semibold",children:"Hello Solar Assistant"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(c,{variant:"secondary",className:"text-xs",style:{backgroundColor:O.COLORS.success,color:O.COLORS.textOnPrimary},children:"Online"}),(0,r.jsx)(t.Button,{variant:"ghost",size:"sm",onClick:()=>i(!1),className:"h-6 w-6 p-0 hover:bg-white/20",children:(0,r.jsx)(u.default,{className:"w-4 h-4"})})]})]})}),(0,r.jsxs)(a.CardContent,{className:"p-0 h-80 flex flex-col",children:[(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-3 space-y-3",children:[l.map(e=>(0,r.jsx)("div",{className:`flex ${e.isFromUser?"justify-end":"justify-start"}`,children:(0,r.jsxs)("div",{className:`flex max-w-xs ${e.isFromUser?"flex-row-reverse":"flex-row"}`,children:[(0,r.jsx)("div",{className:"flex-shrink-0 mx-1",children:e.isFromUser?(0,r.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-semibold",style:{backgroundColor:O.COLORS.primary,color:O.COLORS.textOnPrimary},children:(0,r.jsx)(f.User,{className:"w-3 h-3"})}):(0,r.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:O.COLORS.surfaceVariant},children:(0,r.jsx)(h.Bot,{className:"w-3 h-3",style:{color:O.COLORS.primary}})})}),(0,r.jsxs)("div",{className:`px-3 py-2 rounded-2xl text-xs max-w-xs ${e.isFromUser?"rounded-br-sm":"rounded-bl-sm"}`,style:{backgroundColor:e.isFromUser?O.COLORS.primary:O.COLORS.surface,color:e.isFromUser?O.COLORS.textOnPrimary:O.COLORS.textPrimary,border:e.isFromUser?"none":`1px solid ${O.COLORS.border}`},children:[(0,r.jsx)("p",{className:"text-xs whitespace-pre-wrap",children:e.text}),(0,r.jsx)("p",{className:"text-xs mt-1 opacity-70",style:{color:e.isFromUser?O.COLORS.textOnPrimary:O.COLORS.gray},children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},e.id)),g&&(0,r.jsx)("div",{className:"flex justify-start",children:(0,r.jsxs)("div",{className:"flex max-w-xs",children:[(0,r.jsx)("div",{className:"flex-shrink-0 mx-1",children:(0,r.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:O.COLORS.surfaceVariant},children:(0,r.jsx)(h.Bot,{className:"w-3 h-3",style:{color:O.COLORS.primary}})})}),(0,r.jsx)("div",{className:"px-3 py-2 rounded-2xl rounded-bl-sm",style:{backgroundColor:O.COLORS.surface,border:`1px solid ${O.COLORS.border}`},children:(0,r.jsxs)("div",{className:"flex space-x-1",children:[(0,r.jsx)("div",{className:"w-1.5 h-1.5 rounded-full animate-bounce",style:{backgroundColor:O.COLORS.gray}}),(0,r.jsx)("div",{className:"w-1.5 h-1.5 rounded-full animate-bounce",style:{backgroundColor:O.COLORS.gray,animationDelay:"0.1s"}}),(0,r.jsx)("div",{className:"w-1.5 h-1.5 rounded-full animate-bounce",style:{backgroundColor:O.COLORS.gray,animationDelay:"0.2s"}})]})})]})}),(0,r.jsx)("div",{ref:v})]}),(0,r.jsx)("div",{className:"p-3 border-t",style:{borderColor:O.COLORS.grayMedium},children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"text",value:n,onChange:e=>d(e.target.value),placeholder:"Type a message...",className:"flex-1 px-3 py-2 rounded-full text-xs focus:outline-none resize-none",style:{backgroundColor:O.COLORS.surfaceVariant,color:O.COLORS.textPrimary,border:"none",minHeight:"32px"},onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),b())},disabled:g}),(0,r.jsx)(t.Button,{onClick:b,disabled:0===n.trim().length||g,size:"sm",className:"w-8 h-8 rounded-full p-0",style:{backgroundColor:n.trim().length>0&&!g?O.COLORS.primary:O.COLORS.grayMedium,color:n.trim().length>0&&!g?O.COLORS.textOnPrimary:O.COLORS.gray},children:g?(0,r.jsx)(y.Loader2,{className:"w-3 h-3 animate-spin"}):(0,r.jsx)(x.Send,{className:"w-3 h-3"})})]})})]})]}),(0,r.jsx)(t.Button,{onClick:()=>i(!e),className:"w-14 h-14 rounded-full shadow-2xl hover:shadow-3xl transition-all duration-300 hover:scale-110",style:{backgroundColor:O.COLORS.primary,color:O.COLORS.textOnPrimary},children:e?(0,r.jsx)(u.default,{className:"w-6 h-6"}):(0,r.jsx)(m,{className:"w-6 h-6"})})]})}e.s(["default",()=>g],42110)}]);